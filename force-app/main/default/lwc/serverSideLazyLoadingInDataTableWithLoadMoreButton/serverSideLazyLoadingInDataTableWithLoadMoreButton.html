<!--serverSideLazyLoadingInDataTableWithLoadMoreButton.html-->
<template>
    <lightning-card title="Server Side Lazy Loading In Datatable With Load More Button - LWC"
        icon-name="standard:account">
        <div class="slds-m-bottom_small" style="padding-left: 25px;">
            <p class="slds-m-bottom_small"><lightning-badge label={accounts.length}></lightning-badge> accounts loaded
            </p>
        </div>
        <div class="container slds-m-around_medium">
            <!-- Account List Container -->
            <div class="account-list">
                <!-- Lightning Data Table -->
                <lightning-datatable key-field="id" data={accounts} columns={columns} show-row-number-column
                    hide-checkbox-column></lightning-datatable>
                <!-- Loading Spinner -->
                <div if:true={isLoading} class="loading-spinner slds-m-around_medium">
                    <lightning-spinner alternative-text="Loading" size="small"></lightning-spinner>
                    <p>Loading accounts...</p>
                </div>
            </div>
            <!-- Load More Button -->
            <div if:false={isLoading} class="button-container" style="text-align: center;padding-top: 10px;">
                <button if:false={allLoaded} class="slds-button slds-button_neutral" onclick={handleLoadMore}
                    aria-label="Load more accounts">Load More</button>
                <div if:true={allLoaded} class="all-loaded">
                    All accounts loaded
                </div>
            </div>
            <br />
            <!-- Back to Top Button -->
            <button class="back-to-top" onclick={scrollToTop}>â†‘ Top</button>
        </div>
    </lightning-card>
</template>